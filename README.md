<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .screen {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        h1, h2 {
            color: #4a4a4a;
            text-align: center;
        }
        h3 {
            color: #555;
        }
        input, select, button {
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            width: 100%;
            box-sizing: border-box;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #45a049;
        }
        .question {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .options label {
            display: block;
            padding: 10px;
            margin: 5px 0;
            background-color: #f9f9f9;
            border-radius: 5px;
            cursor: pointer;
        }
        .options label:hover {
            background-color: #e9e9e9;
        }
        .options input {
            width: auto;
            margin-right: 10px;
        }
        .result-item {
            background: #f9f9f9;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .positive {
            color: #2e7d32;
            background-color: #e8f5e9;
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
        }
        .negative {
            color: #c62828;
            background-color: #ffebee;
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
        }
        .solution {
            color: #1565c0;
            background-color: #e3f2fd;
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
        }
        .hidden {
            display: none;
        }
        .trait-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 10px 0;
        }
        .trait {
            background: #e3f2fd;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö -->
    <div id="userInfoScreen" class="screen">
        <h1>–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç</h1>
        <p>–ü—Ä–æ–π–¥–∏—Ç–µ —Ç–µ—Å—Ç, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ —Å–≤–æ–µ–º –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—Ç—Ä–µ—Ç–µ</p>
        
        <label for="userName">–í–∞—à–µ –∏–º—è:</label>
        <input type="text" id="userName" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è">
        
        <label for="userBirthdate">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</label>
        <input type="date" id="userBirthdate">
        
        <label for="userGender">–í–∞—à –ø–æ–ª:</label>
        <select id="userGender">
            <option value="male">–ú—É–∂—Å–∫–æ–π</option>
            <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
        </select>
        
        <button id="startTest">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —Ç–µ—Å—Ç–∞ -->
    <div id="testScreen" class="screen hidden">
        <h2>–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</h2>
        <div id="questionsContainer"></div>
        <button id="submitTest">–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
    <div id="resultScreen" class="screen hidden">
        <h2>–í–∞—à –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç</h2>
        <div id="resultContent"></div>
        <button id="viewResults">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
        <button id="newTest">–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –∑–∞–Ω–æ–≤–æ</button>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –∏—Å—Ç–æ—Ä–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
    <div id="historyScreen" class="screen hidden">
        <h2>–ò—Å—Ç–æ—Ä–∏—è –≤–∞—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</h2>
        <div id="historyContent"></div>
        <button id="backToResults">–ù–∞–∑–∞–¥ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º</button>
        <button id="clearHistory">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–∞
        const testQuestions = [
            {
                question: "–ö–∞–∫ –≤—ã –æ–±—ã—á–Ω–æ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç–µ –Ω–∞ —Å—Ç—Ä–µ—Å—Å–æ–≤—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏?",
                options: [
                    "–°—Ç–∞—Ä–∞—é—Å—å —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ –∏—Å–∫–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ",
                    "–ù—É–∂–¥–∞—é—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –∏ —Å–æ–≤–µ—Ç–µ –±–ª–∏–∑–∫–∏—Ö",
                    "–°—Ç–∞–Ω–æ–≤–ª—é—Å—å —Ä–∞–∑–¥—Ä–∞–∂–∏—Ç–µ–ª—å–Ω—ã–º –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º",
                    "–û—Ç—Å—Ç—Ä–∞–Ω—è—é—Å—å –∏ —Å—Ç–∞—Ä–∞—é—Å—å –ø–æ–±—ã—Ç—å –æ–¥–∏–Ω",
                    "–ê–∫—Ç–∏–≤–Ω–æ –¥–µ–π—Å—Ç–≤—É—é, —á—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É"
                ]
            },
            {
                question: "–ß—Ç–æ –¥–ª—è –≤–∞—Å –≤–∞–∂–Ω–µ–µ –≤ –æ–±—â–µ–Ω–∏–∏ —Å –ª—é–¥—å–º–∏?",
                options: [
                    "–ß–µ—Å—Ç–Ω–æ—Å—Ç—å –∏ –ø—Ä—è–º–æ—Ç–∞",
                    "–í–∑–∞–∏–º–æ–ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–≤—è–∑—å",
                    "–í–µ—Å–µ–ª—å–µ –∏ –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞",
                    "–ì–ª—É–±–æ–∫–∏–µ, —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã",
                    "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–ª—å–∑–∞ –æ—Ç –æ–±—â–µ–Ω–∏—è"
                ]
            },
            {
                question: "–ö–∞–∫ –≤—ã –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –≤–∞–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è?",
                options: [
                    "–¢—â–∞—Ç–µ–ª—å–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã",
                    "–ü—Ä–∏—Å–ª—É—à–∏–≤–∞—é—Å—å –∫ —Å–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏",
                    "–°–æ–≤–µ—Ç—É—é—Å—å —Å –±–ª–∏–∑–∫–∏–º–∏ –∏–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏",
                    "–î–µ–π—Å—Ç–≤—É—é –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ, –ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é",
                    "–í—ã–±–∏—Ä–∞—é —Å–∞–º—ã–π –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç"
                ]
            },
            {
                question: "–ß—Ç–æ –ª—É—á—à–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤–∞—à –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–±–æ—Ç–µ?",
                options: [
                    "–°—Ç–∞–≤–ª—é —Ü–µ–ª–∏ –∏ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Ö –¥–æ—Å—Ç–∏–≥–∞—é",
                    "–ò—â—É —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ",
                    "–†–∞–±–æ—Ç–∞—é –≤ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–º, —Å–ø–æ–∫–æ–π–Ω–æ–º —Ç–µ–º–ø–µ",
                    "–ú–Ω–æ–≥–æ –æ–±—â–∞—é—Å—å —Å –∫–æ–ª–ª–µ–≥–∞–º–∏, —Ä–∞–±–æ—Ç–∞ –≤ –∫–æ–º–∞–Ω–¥–µ",
                    "–ë–µ—Ä—É –Ω–∞ —Å–µ–±—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∏ –≤–µ–¥—É –∑–∞ —Å–æ–±–æ–π"
                ]
            },
            {
                question: "–ö–∞–∫ –≤—ã –ø—Ä–æ–≤–æ–¥–∏—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è?",
                options: [
                    "–ó–∞–Ω–∏–º–∞—é—Å—å —Å–∞–º–æ—Ä–∞–∑–≤–∏—Ç–∏–µ–º, —á–∏—Ç–∞—é, —É—á—É—Å—å",
                    "–í—Å—Ç—Ä–µ—á–∞—é—Å—å —Å –¥—Ä—É–∑—å—è–º–∏, –æ–±—â–∞—é—Å—å",
                    "–ó–∞–Ω–∏–º–∞—é—Å—å —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ–º –∏–ª–∏ —Ö–æ–±–±–∏",
                    "–û—Ç–¥—ã—Ö–∞—é –¥–æ–º–∞, —Å–º–æ—Ç—Ä—é —Ñ–∏–ª—å–º—ã",
                    "–ê–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö, —Å–ø–æ—Ä—Ç, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è"
                ]
            },
            {
                question: "–ö–∞–∫ –≤—ã –≤–µ–¥–µ—Ç–µ —Å–µ–±—è –≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö?",
                options: [
                    "–°—Ç–∞—Ä–∞—é—Å—å –Ω–∞–π—Ç–∏ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å",
                    "–ò–∑–±–µ–≥–∞—é –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤, —É—Å—Ç—É–ø–∞—é",
                    "–û—Ç—Å—Ç–∞–∏–≤–∞—é —Å–≤–æ—é –ø–æ–∑–∏—Ü–∏—é –∞–∫—Ç–∏–≤–Ω–æ",
                    "–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –ø—Ä–∏—á–∏–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞",
                    "–û–±—Ä–∞—â–∞—é—Å—å –∫ —Ç—Ä–µ—Ç—å–µ–π —Å—Ç–æ—Ä–æ–Ω–µ –¥–ª—è –ø–æ–º–æ—â–∏"
                ]
            },
            {
                question: "–ß—Ç–æ –¥–ª—è –≤–∞—Å –∑–Ω–∞—á–∏—Ç —É—Å–ø–µ—Ö?",
                options: [
                    "–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π",
                    "–ì–∞—Ä–º–æ–Ω–∏—è –≤ –ª–∏—á–Ω–æ–π –∂–∏–∑–Ω–∏",
                    "–ü—Ä–∏–∑–Ω–∞–Ω–∏–µ –æ–∫—Ä—É–∂–∞—é—â–∏—Ö",
                    "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∞–º–æ—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏",
                    "–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"
                ]
            },
            {
                question: "–ö–∞–∫ –≤—ã —É—á–∏—Ç–µ—Å—å –Ω–æ–≤–æ–º—É?",
                options: [
                    "–°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏, –ø–æ –ø–ª–∞–Ω—É",
                    "–ß–µ—Ä–µ–∑ –ø—Ä–∞–∫—Ç–∏–∫—É –∏ –æ–ø—ã—Ç",
                    "–í –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—â–µ–Ω–∏—è —Å –¥—Ä—É–≥–∏–º–∏",
                    "–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ, –º–µ—Ç–æ–¥–æ–º –ø—Ä–æ–± –∏ –æ—à–∏–±–æ–∫",
                    "–¢–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ"
                ]
            },
            {
                question: "–ö–∞–∫ –≤—ã –ø—Ä–æ—è–≤–ª—è–µ—Ç–µ –∑–∞–±–æ—Ç—É –æ –±–ª–∏–∑–∫–∏—Ö?",
                options: [
                    "–ü–æ–º–æ–≥–∞—é –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏",
                    "–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –≤—ã—Å–ª—É—à–∏–≤–∞—é",
                    "–î–∞—Ä—é –ø–æ–¥–∞—Ä–∫–∏, –¥–µ–ª–∞—é —Å—é—Ä–ø—Ä–∏–∑—ã",
                    "–ü—Ä–æ–≤–æ–∂—É —Å –Ω–∏–º–∏ –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏",
                    "–î–∞—é —Å–æ–≤–µ—Ç—ã, –ø–æ–º–æ–≥–∞—é —Ä–µ—à–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã"
                ]
            },
            {
                question: "–ß—Ç–æ –≤–∞—Å –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç?",
                options: [
                    "–ß—É–≤—Å—Ç–≤–æ –¥–æ–ª–≥–∞ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏",
                    "–ñ–µ–ª–∞–Ω–∏–µ –ø–æ–º–æ–≥–∞—Ç—å –¥—Ä—É–≥–∏–º",
                    "–°—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ –ø—Ä–∏–∑–Ω–∞–Ω–∏—é",
                    "–ò–Ω—Ç–µ—Ä–µ—Å –∏ –ª—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ",
                    "–õ–∏—á–Ω—ã–π —Ä–æ—Å—Ç –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ"
                ]
            }
        ];

        // –¢–∏–ø—ã –ª–∏—á–Ω–æ—Å—Ç–∏ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º —Ç–µ—Å—Ç–∞
        const personalityTypes = {
            "–ê–Ω–∞–ª–∏—Ç–∏–∫": {
                description: "–í—ã –ª–æ–≥–∏—á–Ω—ã, —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã –∏ —Ü–µ–Ω–∏—Ç–µ –∑–Ω–∞–Ω–∏—è. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç–µ —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞, –∞ –Ω–µ —ç–º–æ—Ü–∏–π.",
                traits: ["—Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å", "–ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å", "–∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ", "—Å–∏—Å—Ç–µ–º–Ω–æ—Å—Ç—å"],
                strengths: [
                    "–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≥–ª—É–±–æ–∫–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏–∏",
                    "–û–±—ä–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π",
                    "–õ—é–±–æ–≤—å –∫ –æ–±—É—á–µ–Ω–∏—é –∏ —Å–∞–º–æ—Ä–∞–∑–≤–∏—Ç–∏—é",
                    "–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å"
                ],
                weaknesses: [
                    "–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ —á—Ä–µ–∑–º–µ—Ä–Ω–æ–º—É –∞–Ω–∞–ª–∏–∑—É –∏ —Å–æ–º–Ω–µ–Ω–∏—è–º",
                    "–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ —ç–º–æ—Ü–∏–π",
                    "–ò–∑–ª–∏—à–Ω—è—è –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å –∫ —Å–µ–±–µ –∏ –¥—Ä—É–≥–∏–º",
                    "–°–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤ —Å–ø–æ–Ω—Ç–∞–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö"
                ],
                solutions: [
                    "–£—á–∏—Ç–µ—Å—å –¥–æ–≤–µ—Ä—è—Ç—å –∏–Ω—Ç—É–∏—Ü–∏–∏ –∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –±—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è",
                    "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç",
                    "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —Å–ø–æ–Ω—Ç–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è",
                    "–ù–∞—Ö–æ–¥–∏—Ç–µ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∞–Ω–∞–ª–∏–∑–æ–º –∏ –¥–µ–π—Å—Ç–≤–∏–µ–º"
                ]
            },
            "–≠–º–ø–∞—Ç": {
                description: "–í—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —ç–º–æ—Ü–∏—è–º –¥—Ä—É–≥–∏—Ö, –∑–∞–±–æ—Ç–ª–∏–≤—ã –∏ —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫ –≥–∞—Ä–º–æ–Ω–∏–∏ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö.",
                traits: ["—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–∑–∞–±–æ—Ç–ª–∏–≤–æ—Å—Ç—å", "–¥–∏–ø–ª–æ–º–∞—Ç–∏—á–Ω–æ—Å—Ç—å", "–∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ—Å—Ç—å", "–æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å"],
                strengths: [
                    "–û—Ç–ª–∏—á–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —ç–º–æ—Ü–∏–π –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π",
                    "–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è",
                    "–£–º–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ —É—Ç–µ—à–∞—Ç—å",
                    "–†–∞–∑–≤–∏—Ç–∞—è –∏–Ω—Ç—É–∏—Ü–∏—è –≤ –æ–±—â–µ–Ω–∏–∏"
                ],
                weaknesses: [
                    "–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤—Å–µ –±–ª–∏–∑–∫–æ –∫ —Å–µ—Ä–¥—Ü—É",
                    "–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –≥—Ä–∞–Ω–∏—Ü",
                    "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤—ã–≥–æ—Ä–∞–Ω–∏–µ –æ—Ç —á—É–∂–∏—Ö –ø—Ä–æ–±–ª–µ–º",
                    "–ò–∑–ª–∏—à–Ω—è—è —É—Å—Ç—É–ø—á–∏–≤–æ—Å—Ç—å"
                ],
                solutions: [
                    "–£—á–∏—Ç–µ—Å—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∑–¥–æ—Ä–æ–≤—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã",
                    "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–∞–º–æ—Ä–µ–≥—É–ª—è—Ü–∏—é",
                    "–ù–∞—Ö–æ–¥–∏—Ç–µ –≤—Ä–µ–º—è –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏–ª",
                    "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –Ω–∞–≤—ã–∫ –≥–æ–≤–æ—Ä–∏—Ç—å '–Ω–µ—Ç'"
                ]
            },
            "–õ–∏–¥–µ—Ä": {
                description: "–í—ã —É–≤–µ—Ä–µ–Ω—ã –≤ —Å–µ–±–µ, —Ä–µ—à–∏—Ç–µ–ª—å–Ω—ã –∏ —É–º–µ–µ—Ç–µ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –¥—Ä—É–≥–∏—Ö. –ü—Ä–∏—Ä–æ–∂–¥–µ–Ω–Ω—ã–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä.",
                traits: ["—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", "—Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–∞–º–±–∏—Ü–∏–æ–∑–Ω–æ—Å—Ç—å", "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", "–∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å"],
                strengths: [
                    "–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤–µ—Å—Ç–∏ –∑–∞ —Å–æ–±–æ–π –ª—é–¥–µ–π",
                    "–ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π",
                    "–£–º–µ–Ω–∏–µ –±—Ä–∞—Ç—å –Ω–∞ —Å–µ–±—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å",
                    "–≠–Ω–µ—Ä–≥–∏—á–Ω–æ—Å—Ç—å –∏ —Ü–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª–µ–Ω–Ω–æ—Å—Ç—å"
                ],
                weaknesses: [
                    "–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—é",
                    "–ù–µ—Ç–µ—Ä–ø–∏–º–æ—Å—Ç—å –∫ –æ—à–∏–±–∫–∞–º –¥—Ä—É–≥–∏—Ö",
                    "–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —á—É–∂–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞",
                    "–ò–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö"
                ],
                solutions: [
                    "–£—á–∏—Ç–µ—Å—å —Å–ª—É—à–∞—Ç—å –∏ —É—á–∏—Ç—ã–≤–∞—Ç—å –º–Ω–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö",
                    "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Ç–µ—Ä–ø–∏–º–æ—Å—Ç—å –∫ —á—É–∂–∏–º –æ—à–∏–±–∫–∞–º",
                    "–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–º–æ—á–∏–π",
                    "–ù–∞—Ö–æ–¥–∏—Ç–µ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ª–∏–¥–µ—Ä—Å—Ç–≤–æ–º –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ–º"
                ]
            },
            "–¢–≤–æ—Ä–µ—Ü": {
                description: "–í—ã –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã, –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã –∏ —Ü–µ–Ω–∏—Ç–µ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏–µ. –í–∏–¥–∏—Ç–µ –º–∏—Ä –ø–æ–¥ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —É–≥–ª–æ–º.",
                traits: ["–∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å", "–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å", "–≥–∏–±–∫–æ—Å—Ç—å", "–º–µ—á—Ç–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–Ω–æ—Å—Ç—å"],
                strengths: [
                    "–ë–æ–≥–∞—Ç–æ–µ –≤–æ–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏",
                    "–£–º–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è",
                    "–ì–∏–±–∫–æ—Å—Ç—å –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å",
                    "–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –¥—Ä—É–≥–∏—Ö"
                ],
                weaknesses: [
                    "–ù–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏ –Ω–µ–ø—É–Ω–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å",
                    "–°–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å —Ä—É—Ç–∏–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏",
                    "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å",
                    "–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ –¥–æ–≤–µ–¥–µ–Ω–∏–∏ –¥–µ–ª –¥–æ –∫–æ–Ω—Ü–∞"
                ],
                solutions: [
                    "–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —Ä–∞—Å–ø–æ—Ä—è–¥–æ–∫ –¥–Ω—è",
                    "–£—á–∏—Ç–µ—Å—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–≤–µ—Ä—à–∞—Ç—å –ø—Ä–æ–µ–∫—Ç—ã",
                    "–ù–∞—Ö–æ–¥–∏—Ç–µ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ–º –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–æ–π",
                    "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å"
                ]
            },
            "–•—Ä–∞–Ω–∏—Ç–µ–ª—å": {
                description: "–í—ã –Ω–∞–¥–µ–∂–Ω—ã, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã –∏ —Ü–µ–Ω–∏—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å. –ù–∞ –≤–∞—Å –º–æ–∂–Ω–æ –ø–æ–ª–æ–∂–∏—Ç—å—Å—è –≤ –ª—é–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏.",
                traits: ["–Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å", "–ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å", "–ª–æ—è–ª—å–Ω–æ—Å—Ç—å", "—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å", "—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å"],
                strengths: [
                    "–í—ã—Å–æ–∫–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å",
                    "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–µ—à–µ–Ω–∏—é –∑–∞–¥–∞—á",
                    "–ü—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å –∏ –≤–µ—Ä–Ω–æ—Å—Ç—å",
                    "–£–º–µ–Ω–∏–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å"
                ],
                weaknesses: [
                    "–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º",
                    "–ò–∑–ª–∏—à–Ω–∏–π –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–∑–º",
                    "–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–∏—Å–∫–æ–≤",
                    "–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ —Ä—É—Ç–∏–Ω–µ"
                ],
                solutions: [
                    "–£—á–∏—Ç–µ—Å—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º",
                    "–ü—Ä–æ–±—É–π—Ç–µ –Ω–æ–≤—ã–µ –ø–æ–¥—Ö–æ–¥—ã –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ",
                    "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –≥–∏–±–∫–æ—Å—Ç—å –º—ã—à–ª–µ–Ω–∏—è",
                    "–ù–∞—Ö–æ–¥–∏—Ç–µ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ–º"
                ]
            }
        };

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const userInfoScreen = document.getElementById('userInfoScreen');
        const testScreen = document.getElementById('testScreen');
        const resultScreen = document.getElementById('resultScreen');
        const historyScreen = document.getElementById('historyScreen');
        const questionsContainer = document.getElementById('questionsContainer');
        const resultContent = document.getElementById('resultContent');
        const historyContent = document.getElementById('historyContent');

        // –ö–Ω–æ–ø–∫–∏
        const startTestBtn = document.getElementById('startTest');
        const submitTestBtn = document.getElementById('submitTest');
        const viewResultsBtn = document.getElementById('viewResults');
        const newTestBtn = document.getElementById('newTest');
        const backToResultsBtn = document.getElementById('backToResults');
        const clearHistoryBtn = document.getElementById('clearHistory');

        // –¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        let currentUser = {};
        let userAnswers = [];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∞
        function initTest() {
            // –°–æ–∑–¥–∞–µ–º –≤–æ–ø—Ä–æ—Å—ã
            questionsContainer.innerHTML = '';
            testQuestions.forEach((question, index) => {
                const questionElement = document.createElement('div');
                questionElement.className = 'question';
                questionElement.innerHTML = `
                    <h3>${index + 1}. ${question.question}</h3>
                    <div class="options">
                        ${question.options.map((option, optionIndex) => `
                            <label>
                                <input type="radio" name="question${index}" value="${optionIndex}">
                                ${option}
                            </label>
                        `).join('')}
                    </div>
                `;
                questionsContainer.appendChild(questionElement);
            });
        }

        // –†–∞—Å—á–µ—Ç –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —á–∏—Å–ª–∞ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ –ø—É—Ç–∏
        function calculateLifePathNumber(birthdate) {
            const date = new Date(birthdate);
            let day = date.getDate();
            let month = date.getMonth() + 1;
            let year = date.getFullYear();
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —á–∏—Å–ª–∞ –¥–æ –æ–¥–Ω–æ–π —Ü–∏—Ñ—Ä—ã (–∫—Ä–æ–º–µ –º–∞—Å—Ç–µ—Ä-—á–∏—Å–µ–ª)
            const reduceNumber = (num) => {
                while (num > 9 && num !== 11 && num !== 22 && num !== 33) {
                    num = Math.floor(num / 10) + (num % 10);
                }
                return num;
            };
            
            // –°–æ–∫—Ä–∞—â–∞–µ–º –¥–µ–Ω—å, –º–µ—Å—è—Ü –∏ –≥–æ–¥
            day = reduceNumber(day);
            month = reduceNumber(month);
            year = reduceNumber(year);
            
            // –°—É–º–º–∏—Ä—É–µ–º –∏ —Å–æ–∫—Ä–∞—â–∞–µ–º –∏—Ç–æ–≥–æ–≤–æ–µ —á–∏—Å–ª–æ
            let lifePathNumber = day + month + year;
            lifePathNumber = reduceNumber(lifePathNumber);
            
            return lifePathNumber;
        }

        // –û–ø–∏—Å–∞–Ω–∏–µ –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª
        function getNumerologyDescription(number) {
            const descriptions = {
                1: {
                    title: "–õ–ò–î–ï–†",
                    description: "–í—ã - –ø—Ä–∏—Ä–æ–∂–¥–µ–Ω–Ω—ã–π –ª–∏–¥–µ—Ä, –Ω–æ–≤–∞—Ç–æ—Ä –∏ –ø–µ—Ä–≤–æ–æ—Ç–∫—Ä—ã–≤–∞—Ç–µ–ª—å. –û–±–ª–∞–¥–∞–µ—Ç–µ —Å–∏–ª—å–Ω–æ–π –≤–æ–ª–µ–π, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ–º –∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—é —Ü–µ–ª–µ–π.",
                    characteristics: ["–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–ò–Ω–∏—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å", "–†–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–°–º–µ–ª–æ—Å—Ç—å", "–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å"],
                    lifePurpose: "–ë—ã—Ç—å –ø–µ—Ä–≤–æ–ø—Ä–æ—Ö–æ–¥—Ü–µ–º, —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤–æ–µ, –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –¥—Ä—É–≥–∏—Ö —Å–≤–æ–∏–º –ø—Ä–∏–º–µ—Ä–æ–º."
                },
                2: {
                    title: "–ú–ò–†–û–¢–í–û–†–ï–¶",
                    description: "–í—ã - –¥–∏–ø–ª–æ–º–∞—Ç, —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è –∏ —Ç–∞–∫—Ç–∏—á–Ω–∞—è –ª–∏—á–Ω–æ—Å—Ç—å. –û–±–ª–∞–¥–∞–µ—Ç–µ –¥–∞—Ä–æ–º –≥–∞—Ä–º–æ–Ω–∏–∑–∞—Ü–∏–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞.",
                    characteristics: ["–î–∏–ø–ª–æ–º–∞—Ç–∏—á–Ω–æ—Å—Ç—å", "–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–¢–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å", "–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ", "–ò–Ω—Ç—É–∏—Ü–∏—è"],
                    lifePurpose: "–°–æ–∑–¥–∞–≤–∞—Ç—å –≥–∞—Ä–º–æ–Ω–∏—é, –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –ª—é–¥–µ–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö."
                },
                3: {
                    title: "–¢–í–û–†–ï–¶",
                    description: "–í—ã - —Ç–≤–æ—Ä—á–µ—Å–∫–∞—è, –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –∏ –æ–±—â–∏—Ç–µ–ª—å–Ω–∞—è –ª–∏—á–Ω–æ—Å—Ç—å. –û–±–ª–∞–¥–∞–µ—Ç–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Ç–∞–ª–∞–Ω—Ç–∞–º–∏ –∏ –¥–∞—Ä–æ–º —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è.",
                    characteristics: ["–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å", "–ö–æ–º–º—É–Ω–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å", "–û–ø—Ç–∏–º–∏–∑–º", "–¢–∞–ª–∞–Ω—Ç–ª–∏–≤–æ—Å—Ç—å", "–†–∞–¥–æ—Å—Ç—å –∂–∏–∑–Ω–∏"],
                    lifePurpose: "–í–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –¥—Ä—É–≥–∏—Ö, —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫—Ä–∞—Å–æ—Ç—É, –≤—ã—Ä–∞–∂–∞—Ç—å —Å–µ–±—è —á–µ—Ä–µ–∑ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ."
                },
                4: {
                    title: "–ü–†–ê–ö–¢–ò–ö",
                    description: "–í—ã - –Ω–∞–¥–µ–∂–Ω—ã–π, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —á–µ–ª–æ–≤–µ–∫. –û–±–ª–∞–¥–∞–µ—Ç–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é —Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ—á–Ω—ã–µ –æ—Å–Ω–æ–≤—ã –∏ —Å–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã.",
                    characteristics: ["–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å", "–ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å", "–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", "–¢—Ä—É–¥–æ–ª—é–±–∏–µ", "–°–∏—Å—Ç–µ–º–Ω–æ—Å—Ç—å"],
                    lifePurpose: "–°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ—á–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –≤–æ–ø–ª–æ—â–∞—Ç—å –∏–¥–µ–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å."
                },
                5: {
                    title: "–ò–°–°–õ–ï–î–û–í–ê–¢–ï–õ–¨",
                    description: "–í—ã - —Å–≤–æ–±–æ–¥–æ–ª—é–±–∏–≤—ã–π, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏ –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–π –∏—Å–∫–∞—Ç–µ–ª—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π. –û–±–ª–∞–¥–∞–µ—Ç–µ –∂–∞–∂–¥–æ–π —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è –∏ –Ω–æ–≤—ã—Ö –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–π.",
                    characteristics: ["–°–≤–æ–±–æ–¥–æ–ª—é–±–∏–µ", "–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å", "–õ—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–≠–Ω–µ—Ä–≥–∏—á–Ω–æ—Å—Ç—å", "–ú–Ω–æ–≥–æ—Å—Ç–æ—Ä–æ–Ω–Ω–æ—Å—Ç—å"],
                    lifePurpose: "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –º–∏—Ä, –ø—Ä–∏–≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–∞—Å–ª–∞–∂–¥–∞—Ç—å—Å—è —Å–≤–æ–±–æ–¥–æ–π –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ–º –∂–∏–∑–Ω–∏."
                },
                6: {
                    title: "–•–†–ê–ù–ò–¢–ï–õ–¨",
                    description: "–í—ã - –∑–∞–±–æ—Ç–ª–∏–≤—ã–π, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∏ –≥–∞—Ä–º–æ–Ω–∏–∑–∏—Ä—É—é—â–∏–π —á–µ–ª–æ–≤–µ–∫. –û–±–ª–∞–¥–∞–µ—Ç–µ –¥–∞—Ä–æ–º —Å–æ–∑–¥–∞–Ω–∏—è —É—é—Ç–∞ –∏ –∑–∞–±–æ—Ç—ã –æ –¥—Ä—É–≥–∏—Ö.",
                    characteristics: ["–ó–∞–±–æ—Ç–ª–∏–≤–æ—Å—Ç—å", "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", "–ì–∞—Ä–º–æ–Ω–∏—á–Ω–æ—Å—Ç—å", "–°–µ–º–µ–π—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", "–°–ª—É–∂–µ–Ω–∏–µ"],
                    lifePurpose: "–°–æ–∑–¥–∞–≤–∞—Ç—å —É—é—Ç –∏ –≥–∞—Ä–º–æ–Ω–∏—é, –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ –±–ª–∏–∑–∫–∏—Ö, –Ω–µ—Å—Ç–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –¥—Ä—É–≥–∏—Ö."
                },
                7: {
                    title: "–ú–£–î–†–ï–¶",
                    description: "–í—ã - –∞–Ω–∞–ª–∏—Ç–∏–∫, –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å –∏ –∏—Å–∫–∞—Ç–µ–ª—å –∏—Å—Ç–∏–Ω—ã. –û–±–ª–∞–¥–∞–µ—Ç–µ –≥–ª—É–±–æ–∫–∏–º —É–º–æ–º –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ–º –∫ –ø–æ–∑–Ω–∞–Ω–∏—é —Å–∫—Ä—ã—Ç—ã—Ö –∑–Ω–∞–Ω–∏–π.",
                    characteristics: ["–ê–Ω–∞–ª–∏—Ç–∏—á–Ω–æ—Å—Ç—å", "–ú—É–¥—Ä–æ—Å—Ç—å", "–ò–Ω—Ç—É–∏—Ü–∏—è", "–°–∞–º–æ–∞–Ω–∞–ª–∏–∑", "–î—É—Ö–æ–≤–Ω–æ—Å—Ç—å"],
                    lifePurpose: "–ò—Å–∫–∞—Ç—å –∏—Å—Ç–∏–Ω—É, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞–Ω–∏—è, –¥–µ–ª–∏—Ç—å—Å—è –º—É–¥—Ä–æ—Å—Ç—å—é."
                },
                8: {
                    title: "–û–†–ì–ê–ù–ò–ó–ê–¢–û–†",
                    description: "–í—ã - –∞–º–±–∏—Ü–∏–æ–∑–Ω—ã–π, –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π –ª–∏–¥–µ—Ä. –û–±–ª–∞–¥–∞–µ—Ç–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–º—É —É—Å–ø–µ—Ö—É.",
                    characteristics: ["–ê–º–±–∏—Ü–∏–æ–∑–Ω–æ—Å—Ç—å", "–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ—Å—Ç—å", "–ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å", "–ê–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–æ—Å—Ç—å", "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"],
                    lifePurpose: "–î–æ—Å—Ç–∏–≥–∞—Ç—å —É—Å–ø–µ—Ö–∞, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã, —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–µ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏–µ."
                },
                9: {
                    title: "–ì–£–ú–ê–ù–ò–°–¢",
                    description: "–í—ã - —Å–æ—Å—Ç—Ä–∞–¥–∞—Ç–µ–ª—å–Ω—ã–π, –∞–ª—å—Ç—Ä—É–∏—Å—Ç–∏—á–Ω—ã–π –∏ –º–Ω–æ–≥–æ–≥—Ä–∞–Ω–Ω—ã–π —á–µ–ª–æ–≤–µ–∫. –û–±–ª–∞–¥–∞–µ—Ç–µ —à–∏—Ä–æ–∫–∏–º –∫—Ä—É–≥–æ–∑–æ—Ä–æ–º –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ–º –ø–æ–º–æ–≥–∞—Ç—å —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤—É.",
                    characteristics: ["–°–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ", "–ê–ª—å—Ç—Ä—É–∏–∑–º", "–ú–Ω–æ–≥–æ–≥—Ä–∞–Ω–Ω–æ—Å—Ç—å", "–¢–µ—Ä–ø–∏–º–æ—Å—Ç—å", "–ú—É–¥—Ä–æ—Å—Ç—å"],
                    lifePurpose: "–°–ª—É–∂–∏—Ç—å —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤—É, –ø–æ–º–æ–≥–∞—Ç—å –¥—Ä—É–≥–∏–º, –Ω–µ—Å—Ç–∏ –ª—é–±–æ–≤—å –∏ —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ."
                },
                11: {
                    title: "–ü–†–û–°–í–ï–¢–ò–¢–ï–õ–¨",
                    description: "–í—ã - –æ–¥—É—Ö–æ—Ç–≤–æ—Ä–µ–Ω–Ω–∞—è, –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∞—è –ª–∏—á–Ω–æ—Å—Ç—å. –û–±–ª–∞–¥–∞–µ—Ç–µ –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –¥—É—Ö–æ–≤–Ω—ã–º –≤–∏–¥–µ–Ω–∏–µ–º.",
                    characteristics: ["–î—É—Ö–æ–≤–Ω–æ—Å—Ç—å", "–ò–Ω—Ç—É–∏—Ü–∏—è", "–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–Ω–æ—Å—Ç—å", "–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–ò–¥–µ–∞–ª–∏–∑–º"],
                    lifePurpose: "–í–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –¥—Ä—É–≥–∏—Ö, –Ω–µ—Å—Ç–∏ –¥—É—Ö–æ–≤–Ω—ã–µ –∏—Å—Ç–∏–Ω—ã, –±—ã—Ç—å –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–æ–º –≤—ã—Å—à–∏—Ö –∑–Ω–∞–Ω–∏–π."
                },
                22: {
                    title: "–°–¢–†–û–ò–¢–ï–õ–¨",
                    description: "–í—ã - –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π –∏–¥–µ–∞–ª–∏—Å—Ç, –º–∞—Å—Ç–µ—Ä-—Ç–≤–æ—Ä–µ—Ü, —Å–ø–æ—Å–æ–±–Ω—ã–π –≤–æ–ø–ª–æ—â–∞—Ç—å –≥—Ä–∞–Ω–¥–∏–æ–∑–Ω—ã–µ –ø–ª–∞–Ω—ã –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å.",
                    characteristics: ["–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∏–¥–µ–∞–ª–∏–∑–º", "–°–æ–∑–∏–¥–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–ú–∞—Å—à—Ç–∞–±–Ω–æ—Å—Ç—å", "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è", "–í–æ–ø–ª–æ—â–µ–Ω–∏–µ"],
                    lifePurpose: "–°—Ç—Ä–æ–∏—Ç—å –≤–µ–ª–∏–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã, –≤–æ–ø–ª–æ—â–∞—Ç—å –º–∞—Å—à—Ç–∞–±–Ω—ã–µ –∏–¥–µ–∏, —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ—á—Ç–æ –∑–Ω–∞—á–∏–º–æ–µ –¥–ª—è —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞."
                },
                33: {
                    title: "–£–ß–ò–¢–ï–õ–¨",
                    description: "–í—ã - —Å–ª—É–∂–∏—Ç–µ–ª—å —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞, —Å–æ—Å—Ç—Ä–∞–¥–∞—Ç–µ–ª—å–Ω—ã–π –ª–∏–¥–µ—Ä, –Ω–µ—Å—É—â–∏–π –≤—ã—Å—à—É—é —Å—Ç–µ–ø–µ–Ω—å –∑–∞–±–æ—Ç—ã –∏ –ª—é–±–≤–∏.",
                    characteristics: ["–°–ª—É–∂–µ–Ω–∏–µ", "–°–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ", "–õ—é–±–æ–≤—å", "–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ", "–ü—Ä–æ—Å–≤–µ—â–µ–Ω–∏–µ"],
                    lifePurpose: "–£—á–∏—Ç—å —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–æ –ª—é–±–≤–∏ –∏ —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏—é, —Å–ª—É–∂–∏—Ç—å –≤—ã—Å—à–∏–º –∏–¥–µ–∞–ª–∞–º, –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –Ω–∞ –¥—É—Ö–æ–≤–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ."
                }
            };
            
            return descriptions[number] || {
                title: "–£–ù–ò–ö–ê–õ–¨–ù–ê–Ø –õ–ò–ß–ù–û–°–¢–¨",
                description: "–í—ã –æ–±–ª–∞–¥–∞–µ—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–µ–π –∫–∞—á–µ—Å—Ç–≤ –∏ –æ—Å–æ–±—ã–º –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º –≤ –∂–∏–∑–Ω–∏.",
                characteristics: ["–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å", "–ú–Ω–æ–≥–æ–≥—Ä–∞–Ω–Ω–æ—Å—Ç—å", "–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å"],
                lifePurpose: "–ù–∞–π—Ç–∏ —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Å–æ–±–æ–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ."
            };
        }

        // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –ª–∏—á–Ω–æ—Å—Ç–∏ –ø–æ –æ—Ç–≤–µ—Ç–∞–º
        function determinePersonalityType(answers) {
            // –ü–æ–¥—Å—á–µ—Ç –±–∞–ª–ª–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
            const scores = {
                "–ê–Ω–∞–ª–∏—Ç–∏–∫": 0,
                "–≠–º–ø–∞—Ç": 0,
                "–õ–∏–¥–µ—Ä": 0,
                "–¢–≤–æ—Ä–µ—Ü": 0,
                "–•—Ä–∞–Ω–∏—Ç–µ–ª—å": 0
            };
            
            // –ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç –±–∞–ª–ª—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —Ç–∏–ø—É
            const answerMapping = {
                0: "–ê–Ω–∞–ª–∏—Ç–∏–∫",    // –û—Ç–≤–µ—Ç 0 -> –ê–Ω–∞–ª–∏—Ç–∏–∫
                1: "–≠–º–ø–∞—Ç",       // –û—Ç–≤–µ—Ç 1 -> –≠–º–ø–∞—Ç
                2: "–õ–∏–¥–µ—Ä",       // –û—Ç–≤–µ—Ç 2 -> –õ–∏–¥–µ—Ä
                3: "–¢–≤–æ—Ä–µ—Ü",      // –û—Ç–≤–µ—Ç 3 -> –¢–≤–æ—Ä–µ—Ü
                4: "–•—Ä–∞–Ω–∏—Ç–µ–ª—å"    // –û—Ç–≤–µ—Ç 4 -> –•—Ä–∞–Ω–∏—Ç–µ–ª—å
            };
            
            answers.forEach(answer => {
                const type = answerMapping[answer];
                if (type) {
                    scores[type] += 1;
                }
            });
            
            // –ù–∞—Ö–æ–¥–∏–º —Ç–∏–ø —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –±–∞–ª–ª–æ–≤
            let maxScore = 0;
            let personalityType = "–ê–Ω–∞–ª–∏—Ç–∏–∫";
            
            for (const [type, score] of Object.entries(scores)) {
                if (score > maxScore) {
                    maxScore = score;
                    personalityType = type;
                }
            }
            
            return personalityType;
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function saveResult(user, personalityType, numerologyNumber) {
            let results = JSON.parse(localStorage.getItem('psychTestResults')) || [];
            
            const result = {
                id: Date.now(),
                name: user.name,
                birthdate: user.birthdate,
                gender: user.gender,
                personalityType: personalityType,
                numerologyNumber: numerologyNumber,
                date: new Date().toLocaleString('ru-RU')
            };
            
            results.push(result);
            localStorage.setItem('psychTestResults', JSON.stringify(results));
            
            return result;
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function showHistory() {
            const results = JSON.parse(localStorage.getItem('psychTestResults')) || [];
            
            if (results.length === 0) {
                historyContent.innerHTML = '<p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.</p>';
                return;
            }
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)
            results.sort((a, b) => b.id - a.id);
            
            historyContent.innerHTML = results.map(result => {
                const numerologyInfo = getNumerologyDescription(result.numerologyNumber);
                return `
                    <div class="result-item">
                        <h3>${result.name} - ${result.date}</h3>
                        <p><strong>–ü—Å–∏—Ö–æ—Ç–∏–ø:</strong> ${result.personalityType}</p>
                        <p><strong>–ß–∏—Å–ª–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ –ø—É—Ç–∏:</strong> ${result.numerologyNumber} - ${numerologyInfo.title}</p>
                        <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${numerologyInfo.description}</p>
                    </div>
                `;
            }).join('');
        }

        // –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
        function clearHistory() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤?')) {
                localStorage.removeItem('psychTestResults');
                showHistory();
            }
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        startTestBtn.addEventListener('click', () => {
            const name = document.getElementById('userName').value;
            const birthdate = document.getElementById('userBirthdate').value;
            const gender = document.getElementById('userGender').value;
            
            if (!name || !birthdate) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
                return;
            }
            
            currentUser = { name, birthdate, gender };
            userInfoScreen.classList.add('hidden');
            testScreen.classList.remove('hidden');
        });

        submitTestBtn.addEventListener('click', () => {
            // –°–æ–±–∏—Ä–∞–µ–º –æ—Ç–≤–µ—Ç—ã
            userAnswers = [];
            let allAnswered = true;
            
            for (let i = 0; i < testQuestions.length; i++) {
                const selectedOption = document.querySelector(`input[name="question${i}"]:checked`);
                if (selectedOption) {
                    userAnswers.push(parseInt(selectedOption.value));
                } else {
                    allAnswered = false;
                    break;
                }
            }
            
            if (!allAnswered) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã');
                return;
            }
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ª–∏—á–Ω–æ—Å—Ç–∏
            const personalityType = determinePersonalityType(userAnswers);
            const numerologyNumber = calculateLifePathNumber(currentUser.birthdate);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            const result = saveResult(currentUser, personalityType, numerologyNumber);
            
            // –ü–æ–ª—É—á–∞–µ–º –æ–ø–∏—Å–∞–Ω–∏—è
            const personalityInfo = personalityTypes[personalityType];
            const numerologyInfo = getNumerologyDescription(numerologyNumber);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            resultContent.innerHTML = `
                <div class="result-item">
                    <h3>${currentUser.name}, –≤–∞—à –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç</h3>
                    
                    <h4>üé≠ –í–∞—à –ø—Å–∏—Ö–æ—Ç–∏–ø: ${personalityType}</h4>
                    <p>${personalityInfo.description}</p>
                    
                    <div class="trait-list">
                        ${personalityInfo.traits.map(trait => `<span class="trait">${trait}</span>`).join('')}
                    </div>
                    
                    <h4>‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:</h4>
                    ${personalityInfo.strengths.map(strength => `<div class="positive">${strength}</div>`).join('')}
                    
                    <h4>‚ö†Ô∏è –ó–æ–Ω—ã —Ä–æ—Å—Ç–∞:</h4>
                    ${personalityInfo.weaknesses.map(weakness => `<div class="negative">${weakness}</div>`).join('')}
                    
                    <h4>üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è:</h4>
                    ${personalityInfo.solutions.map(solution => `<div class="solution">${solution}</div>`).join('')}
                    
                    <h4>üîÆ –í–∞—à–µ —á–∏—Å–ª–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ –ø—É—Ç–∏: ${numerologyNumber}</h4>
                    <p><strong>${numerologyInfo.title}</strong></p>
                    <p>${numerologyInfo.description}</p>
                    
                    <h5>–•–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ —á–µ—Ä—Ç—ã:</h5>
                    <div class="trait-list">
                        ${numerologyInfo.characteristics.map(char => `<span class="trait">${char}</span>`).join('')}
                    </div>
                    
                    <h5>–ñ–∏–∑–Ω–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</h5>
                    <p><em>${numerologyInfo.lifePurpose}</em></p>
                    
                    <p><strong>–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</strong> ${result.date}</p>
                </div>
            `;
            
            testScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
        });

        viewResultsBtn.addEventListener('click', () => {
            showHistory();
            resultScreen.classList.add('hidden');
            historyScreen.classList.remove('hidden');
        });

        newTestBtn.addEventListener('click', () => {
            userAnswers = [];
            currentUser = {};
            document.getElementById('userName').value = '';
            document.getElementById('userBirthdate').value = '';
            document.getElementById('userGender').value = 'male';
            
            resultScreen.classList.add('hidden');
            userInfoScreen.classList.remove('hidden');
        });

        backToResultsBtn.addEventListener('click', () => {
            historyScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
        });

        clearHistoryBtn.addEventListener('click', clearHistory);

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', initTest);
    </script>
</body>
</html>
